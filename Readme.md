# Instructions

## Cloning the Repository

To clone this repository to your local machine, follow these steps:

1. Open your terminal (or Git Bash).
2. Navigate to the directory where you want to clone the repository.
3. Run the following command:

   ```bash
   git clone -b DP https://github.com/RajniHarsha27/Interviewer-bot.git
   ```

   The `-b DP` flag ensures that you clone the repository directly on this branch.

4. Once cloned, navigate into the project folder:

   ```bash
   cd folder-name
   ```

## Installation

Follow these steps to get a development environment running.

### Installing Dependencies

First create a virtual environment: `python -m venv .\myenv`

Now activate the environment : `.\myenv\Scripts\activate`

Next, you need to install the project dependencies. Use the following command to install them:

```bash
pip install -r requirements.txt
```

### Installing Ngrok

1. Visit the following link to download ngrok for Windows: [https://dashboard.ngrok.com/get-started/setup/windows](ngrok Windows Setup)

   _For Mac OS, refer the same link and navigate accordingly._

2. Once downloaded, unzip the file and locate the ngrok.exe file.

3. Move the ngrok.exe file to the root folder of this project (where your README.md and other project files are located).

4. After placing the ngrok.exe file in the root folder, you're ready to use ngrok in your project.

## Setting Google cloud credentials

### Get Service Account JSON Credentials from GCP

#### 1. Create a Service Account

1. Go to the [Google Cloud Console](https://console.cloud.google.com/).

2. Navigate to **IAM & Admin** > **Service Accounts**.

3. Search for the service account `new-service-interviewer-agent@interviewer-assitant.iam.gserviceaccount.com` and download json credentials.

4. Save the **`credentials.json`** file securely in the project folder.

## Running the application

1. Make sure that the environment is activated.

2. Navigate to App folder by running the following command in the terminal: `cd App`

3. Start the fastAPI server in main.py : `uvicorn main:app --reload`

4. Split the terminal and run the webhook server as well in a seperate port: `uvicorn webhooks:app --port 8001 --reload`

   (Assuming that your main server is running in port 8000.)

5. Open the windows terminal to activate the Ngrok server. Navigate to your root directory and run the following command `ngrok http 8000`

   This will generate an ngrok URL.

6. Now navigate to the dialogflow cx console in the browser. Go to the following page : `manage>Webhooks>Fetch Question>Webhook URL`

   In the Webhook URL field add the url generated by the ngrok setup and add the route `/webhook`.

   This should connect dialogflow with webhook server.

7. Hit refresh on the port main.py server is running, you are good to go! ðŸ˜Š
